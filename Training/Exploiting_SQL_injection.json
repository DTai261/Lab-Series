{
  "title" : "Exploiting SQL injection",
  "description" : null,
  "prerequisites" : [ ],
  "outcomes" : [ ],
  "state" : "UNRELEASED",
  "show_stepper_bar" : true,
  "levels" : [ {
    "title" : "Introduction level",
    "level_type" : "INFO_LEVEL",
    "order" : 0,
    "estimated_duration" : 0,
    "minimal_possible_solve_time" : null,
    "content" : "Understanding SQL Injection:\n\nSQL injection is a widely recognized and exploited vulnerability that occurs when user input is not correctly validated or sanitized by a web application before being incorporated into SQL queries. Malicious actors can manipulate input fields to execute arbitrary SQL commands, potentially gaining access to unauthorized data, manipulating databases, and even compromising the entire application and server.\n\nThe severity of SQL injection lies in its potential to expose sensitive information, compromise data integrity, and facilitate unauthorized access. It serves as a stark reminder of the importance of secure coding practices and rigorous input validation.\n\nThe Lab Challenge:\n\nIn the Exploiting SQL Injection Lab, you will confront a controlled environment where a web application is susceptible to SQL injection. Your task is to exploit this vulnerability and gain unauthorized access to sensitive data. By manipulating input fields and crafting SQL queries that exploit the vulnerability, you will extract hidden information from databases and potentially perform actions that should be restricted.\n\nThis lab is designed not only to demonstrate the power of SQL injection but also to highlight the grave consequences of inadequate input validation in web applications. By gaining a firsthand understanding of how attackers can exploit these vulnerabilities, you'll be better equipped to prevent such issues in your own coding practices and contribute to the broader landscape of secure web development."
  }, {
    "title" : "Get Access",
    "level_type" : "ACCESS_LEVEL",
    "order" : 1,
    "estimated_duration" : 0,
    "minimal_possible_solve_time" : null,
    "passkey" : "start",
    "cloud_content" : "Your first task is to access the sandbox, where you will complete all following tasks. After you have successfully connected, Submit the answer **`start`**.\n\n## Sandbox GUI access\n\n1. Download the SSH access zip file from Training Level of the Linear Training Run page with topology visualization (in case of Adaptive Training Run, download it from the Training Phase).\n\n2. Extract the ssh-access.zip file to the ~/.ssh/ directory:\n\n>> `$ unzip ssh-access.zip -d ~/.ssh/`\n\n> Extracted files:\n> \n> >     ~/.ssh/pool-id-ID-sandbox-id-ID-user-config: the SSH configuration file.\n> >     ~/.ssh/pool-id-ID-sandbox-id-ID-user-key: the sandbox user SSH private key.\n> >     ~/.ssh/pool-id-ID-sandbox-id-ID-user-key.pub: the sandbox user SSH public key.\n\n3. Copy content in the file **`pool-id-ID-sandbox-id-ID-user-config`** to the file **`~/.ssh/config`** (if the file is not exist, create one) \n4. Run this command:\n\n>> `$ ssh -L 5901:localhost:5901 -N -i pool-id-ID-sandbox-id-ID-user-key user@client`\n\n5. Install any VNCviewr (You can refer to this [site](https://linuxhint.com/install-realvnc-vnc-viewer-linux/)) then connect to **`localhost:5901`** with password is \"**`password`**\"\n\n## Sandbox SSH access\n- Do the first 2 step as instruction above. Connect directly to any virtual machine using SSH protocol:\n\n>> `$ ssh -F ~/.ssh/pool-id-ID-sandbox-id-ID-user-config <vm_name>`\n\n>> the **`<vm_name>`** can be **`user@client`** or **`user@server`** or any other.\n\n## Web Student management access\n\n- The Page is use for manager student, there is few function for you to looking around. Notice that there is a button in the bottom right in index, when ever you mess up\n with the data in the page, you can restore database by clicking on that button.\n\n**`Note:`**\n- You can found browser, wireshark or another app by click on the **Applications button** in the top left of the screen\n- Use **firefox** in **Internet** instead of using default web browser\n\nAlternatively, you can use SSH to connect to the machine. SSH access makes it easier to copy-paste commands and flags, but requires more steps to set up. See [documentation](https://docs.crp.kypo.muni.cz/user-guide-advanced/sandboxes/sandbox-access/#user-access) for more details.",
    "local_content" : "Your first task is to access the sandbox, where you will complete all following tasks. After you have successfully connected, Submit the answer **`start`**.\n\n## Sandbox GUI access\n\n1. Download the SSH access zip file from Training Level of the Linear Training Run page with topology visualization (in case of Adaptive Training Run, download it from the Training Phase).\n\n2. Extract the ssh-access.zip file to the ~/.ssh/ directory:\n\n>> `$ unzip ssh-access.zip -d ~/.ssh/`\n\n> Extracted files:\n> \n> >     ~/.ssh/pool-id-ID-sandbox-id-ID-user-config: the SSH configuration file.\n> >     ~/.ssh/pool-id-ID-sandbox-id-ID-user-key: the sandbox user SSH private key.\n> >     ~/.ssh/pool-id-ID-sandbox-id-ID-user-key.pub: the sandbox user SSH public key.\n\n3. Copy content in the file **`pool-id-ID-sandbox-id-ID-user-config`** to the file **`~/.ssh/config`** (if the file is not exist, create one) \n4. Run this command:\n\n>> `$ ssh -L 5901:localhost:5901 -N -i pool-id-ID-sandbox-id-ID-user-key user@client`\n\n5. Install any VNCviewr (You can refer to this [site](https://linuxhint.com/install-realvnc-vnc-viewer-linux/)) then connect to **`localhost:5901`** with password is \"**`password`**\"\n\n## Sandbox SSH access\n- Do the first 2 step as instruction above. Connect directly to any virtual machine using SSH protocol:\n\n>> `$ ssh -F ~/.ssh/pool-id-ID-sandbox-id-ID-user-config <vm_name>`\n\n>> the **`<vm_name>`** can be **`user@client`** or **`user@server`** or any other.\n\n## Web Student management access\n\n- The Page is use for manager student, there is few function for you to looking around. Notice that there is a button in the bottom right in index, when ever you mess up\n with the data in the page, you can restore database by clicking on that button.\n\n**`Note:`**\n- You can found browser, wireshark or another app by click on the **Applications button** in the top left of the screen\n- Use **firefox** in **Internet** instead of using default web browser\n\nAlternatively, you can use SSH to connect to the machine. SSH access makes it easier to copy-paste commands and flags, but requires more steps to set up. See [documentation](https://docs.crp.kypo.muni.cz/user-guide-advanced/sandboxes/sandbox-access/#user-access) for more details."
  }, {
    "title" : "Find Vulnerabilities",
    "level_type" : "TRAINING_LEVEL",
    "order" : 2,
    "estimated_duration" : 45,
    "minimal_possible_solve_time" : 10,
    "answer" : "gender",
    "answer_variable_name" : null,
    "content" : "Welcome to the Student Management web page!\nThere is plenty of vulnerability is occur in this web page, but in the scope of this lab we just focus on SQL injection.\n\n## Note:\n- You should use **`Burpsuite`** to make the testing process easier.\n\nThe answer to this lab is the **`parameter name`** that vulnerable to SQL Injection.",
    "solution" : "gender",
    "solution_penalized" : true,
    "hints" : [ {
      "title" : "Last hint",
      "content" : "the parameter vulnerable with improper input validation",
      "hint_penalty" : 10,
      "order" : 2
    }, {
      "title" : "Where should I focus?",
      "content" : "you should checkout your profile",
      "hint_penalty" : 50,
      "order" : 0
    }, {
      "title" : "Again, where should I focus?",
      "content" : "focus on edit function, not the chat ;)",
      "hint_penalty" : 20,
      "order" : 1
    } ],
    "incorrect_answer_limit" : 5,
    "attachments" : [ ],
    "max_score" : 100,
    "variant_answers" : false,
    "reference_solution" : [ ],
    "mitre_techniques" : [ ],
    "expected_commands" : [ ],
    "commands_required" : true
  }, {
    "title" : "Let find out what interesting in the database",
    "level_type" : "ASSESSMENT_LEVEL",
    "order" : 3,
    "estimated_duration" : 10,
    "minimal_possible_solve_time" : 3,
    "questions" : [ {
      "question_type" : "MCQ",
      "text" : "What type of database that use in this web page ?",
      "points" : 50,
      "penalty" : 30,
      "order" : 0,
      "answer_required" : true,
      "choices" : [ {
        "text" : "MSSQL",
        "correct" : false,
        "order" : 0
      }, {
        "text" : "MySQL",
        "correct" : true,
        "order" : 1
      }, {
        "text" : "Oracle",
        "correct" : false,
        "order" : 2
      }, {
        "text" : "PostgreSQL",
        "correct" : false,
        "order" : 3
      }, {
        "text" : "SQLite",
        "correct" : false,
        "order" : 4
      } ]
    }, {
      "question_type" : "MCQ",
      "text" : "What is the database name ?",
      "points" : 50,
      "penalty" : 30,
      "order" : 1,
      "answer_required" : true,
      "choices" : [ {
        "text" : "management_student",
        "correct" : false,
        "order" : 0
      }, {
        "text" : "ManagementStudent",
        "correct" : false,
        "order" : 1
      }, {
        "text" : "StudentManagement",
        "correct" : false,
        "order" : 2
      }, {
        "text" : "student_management",
        "correct" : true,
        "order" : 3
      } ]
    }, {
      "question_type" : "MCQ",
      "text" : "There is a conversation between 2 users about a movie, what movie is it?",
      "points" : 50,
      "penalty" : 30,
      "order" : 2,
      "answer_required" : true,
      "choices" : [ {
        "text" : "Spider Man",
        "correct" : false,
        "order" : 0
      }, {
        "text" : "Interstellar",
        "correct" : false,
        "order" : 1
      }, {
        "text" : "Iron Man",
        "correct" : true,
        "order" : 2
      }, {
        "text" : "Caption America",
        "correct" : false,
        "order" : 3
      } ]
    }, {
      "question_type" : "MCQ",
      "text" : "Also in to conversation, we know that there is a place for them to upload or download movies from, which one below is mentioned ?",
      "points" : 50,
      "penalty" : 30,
      "order" : 3,
      "answer_required" : true,
      "choices" : [ {
        "text" : "phimmoi",
        "correct" : false,
        "order" : 0
      }, {
        "text" : "secret webpage",
        "correct" : true,
        "order" : 1
      }, {
        "text" : "bitorent",
        "correct" : false,
        "order" : 2
      }, {
        "text" : "netflix",
        "correct" : false,
        "order" : 3
      } ]
    }, {
      "question_type" : "FFQ",
      "text" : "Remember the name of the movie, you may need it later. No need answer for this question, just submit **`OK`**",
      "points" : 0,
      "penalty" : 0,
      "order" : 4,
      "answer_required" : true,
      "choices" : [ {
        "text" : "OK",
        "correct" : true,
        "order" : 0
      } ]
    } ],
    "instructions" : "You can use sqlmap to extract the data from the database.\nBut vulnerability is occur on update query, so sqlmap or careless manual testing can change all the data in the system.\nSo it's better to practice manual testing or write a script to extract data.",
    "assessment_type" : "TEST"
  } ],
  "estimated_duration" : 55,
  "variant_sandboxes" : false
}